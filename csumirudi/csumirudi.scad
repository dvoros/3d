fw = 24.; // finger width
rw = 29; // ring width
rh = 5; // ring height
th = 3; // text height

slack = 0.2;

// ------------------------------

rt = (rw-fw)/2; // ring thickness

$fn = 40;
e = 0.01;

//csumi_snap();
rings_snap();
//csumi_full();


module ring(h) {
    rotate([90, 0, 0])
    difference() {
        cylinder(d=rw, h=h, center = true);
        translate([0, -e, 0])
        cylinder(d=fw, h=h+2*e, center = true);
    }
}


module csumi_full() {
    scale(1.2)
    csumi(th);
    translate([-rw/2+rt/2, 0, -rw/2])
    ring(th);
    translate([rw/2-rt/2, 0, -rw/2])
    ring(th);
}

module csumi_snap() {
    difference() {
        scale(1.2)
        csumi(th);
        translate([-rw/2+rt/2, 0, -rw/2])
        ring(th+2*slack);
        translate([rw/2-rt/2, 0, -rw/2])
        ring(th+2*slack);
    }
}

module rings_snap() {
    translate([-rw/2+rt/2, 0, -rw/2])
    ring(th);
    translate([rw/2-rt/2, 0, -rw/2])
    ring(th);
}


fudge = 0.1;
module csumi(h=3)
{
    translate([0, 0, -h/2])
  scale([1, -1, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[-13.610023,-12.008821],[-13.884425,-12.004693],[-14.504789,-11.729996],[-14.679209,-11.072968],[-14.480255,-10.673508],[-14.101466,-10.264232],[-13.727846,-9.889061],[-13.538710,-9.559882],[-13.922046,-8.552732],[-15.287440,-8.065915],[-17.438703,-8.162474],[-19.821014,-8.885504],[-21.341798,-6.978378],[-23.423379,-5.383910],[-22.643581,0.135135],[-19.163173,1.567089],[-22.032766,7.341930],[-25.455296,8.111910],[-23.636802,5.596299],[-24.217129,5.204594],[-25.311119,6.704760],[-28.335224,6.056738],[-30.965555,-3.719927],[-27.659296,-2.563925],[-26.824205,-5.163250],[-30.829128,-6.606574],[-32.178269,-4.526426],[-34.013431,-2.826958],[-31.630113,6.030382],[-31.460622,7.610520],[-31.905549,8.807992],[-28.865941,9.011081],[-32.384073,10.082850],[-33.025774,10.608346],[-33.053909,11.352883],[-32.592096,11.937568],[-31.763955,11.983508],[-23.792830,9.766351],[-15.797137,8.296937],[-7.777492,7.518585],[0.265491,7.374610],[8.331194,7.808330],[16.419002,8.763062],[24.528301,10.182122],[32.658473,12.008828],[33.461765,11.884950],[33.869250,11.277091],[33.791106,10.549471],[33.137514,10.066313],[30.731975,9.489087],[32.463652,8.575447],[32.070913,7.908821],[31.404287,8.302079],[30.902113,7.638238],[30.847731,6.911982],[32.929258,-2.382540],[34.013431,-3.188178],[31.978412,-6.210733],[28.922268,-4.509026],[29.666408,-3.149419],[27.546640,6.317704],[27.394715,7.637978],[27.570400,8.776985],[23.403212,7.925873],[25.336946,6.644298],[24.886845,6.015396],[24.257425,6.465498],[23.701009,5.831296],[23.589765,5.060415],[24.767989,-3.822247],[25.753459,-5.079533],[26.507934,-5.940464],[26.122944,-6.525442],[24.547847,-5.381841],[22.685945,-7.977549],[19.871128,-6.073271],[17.972020,-4.901768],[17.572583,-7.054278],[16.409840,-8.952166],[11.217911,-5.762180],[11.260026,-7.002152],[11.003519,-8.103826],[10.448419,-9.067173],[9.594753,-9.892162],[6.500368,-7.490758],[6.915846,-6.866506],[7.575238,-7.277332],[7.962684,-6.576445],[8.023789,-5.829876],[6.794924,3.437775],[5.641504,4.352448],[6.769603,5.683117],[2.731087,5.455223],[4.298953,4.081665],[3.800790,3.520976],[3.204962,4.019652],[2.565186,3.425141],[2.348167,2.756679],[2.269617,-7.014818],[3.249404,-8.045761],[0.621138,-10.247177],[-1.830906,-8.040594],[-0.904349,-6.883558],[-0.833551,1.935542],[-3.392051,4.037223],[-4.245099,3.250471],[-4.535136,2.282808],[-4.609032,-6.960041],[-3.629764,-7.990985],[-6.222887,-10.192400],[-9.551367,-7.343478],[-9.017548,-6.783307],[-8.316815,-7.388439],[-7.783516,-6.828265],[-7.707035,2.696219],[-7.088469,5.019592],[-6.826986,5.477962],[-13.740775,6.026766],[-11.300098,4.517812],[-12.218388,-1.979466],[-15.713265,-3.516322],[-14.247205,-6.253106],[-13.731990,-7.145559],[-12.814679,-9.288046],[-12.594075,-10.940160],[-12.904024,-11.713885],[-13.610034,-12.008828]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[13.919047,-6.542486],[14.619647,-5.586564],[14.785145,-4.754998],[13.579015,4.337470],[12.495877,5.261445],[13.413651,6.342517],[9.502778,5.914635],[10.707873,5.059907],[9.951332,3.785049],[11.092347,-4.818043]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-15.410430,-5.910484],[-17.827337,-1.079771],[-19.821531,-1.831146],[-20.394623,-5.883094],[-18.905852,-5.434376],[-17.401523,-5.379767],[-15.410430,-5.910484]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[20.365682,-5.509473],[21.583696,-3.960216],[20.419426,4.817546],[20.393225,6.239441],[20.721734,7.433404],[16.366959,6.738357],[17.496609,5.924970],[16.740580,4.650112],[17.895550,-4.057884]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-17.039272,-0.799167],[-15.035259,0.021972],[-14.378452,4.667683],[-16.168583,4.038871],[-17.929657,3.993821],[-19.926434,4.738996]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-0.825273,2.958744],[-0.670062,4.281994],[-0.229444,5.375134],[-3.782717,5.377250]]);
    }
  }
}

module rudi(h=3)
{
    translate([0, 0, -h/2])
  scale([1, -1, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[6.219517,-13.573799],[5.704821,-9.977116],[9.220885,-6.658458],[7.877382,-6.111123],[6.252074,-5.835768],[5.027858,2.719784],[4.544729,4.414697],[3.695125,5.308771],[7.375519,7.260592],[0.704608,6.945365],[2.253352,5.313423],[1.705064,4.801308],[1.157810,5.352697],[0.466004,4.819324],[0.188361,4.173442],[-0.787806,-5.549481],[0.092759,-6.666208],[-2.727223,-8.616478],[-4.965331,-6.193368],[-3.936454,-5.126766],[-3.055370,3.648408],[-5.409747,5.976948],[-6.331316,5.271767],[-6.708893,4.334671],[-7.632869,-4.861667],[-6.752301,-5.978394],[-9.536628,-7.932797],[-12.589155,-4.789319],[-12.006246,-4.280825],[-11.364422,-4.947966],[-10.780998,-4.439472],[-9.829117,5.037989],[-8.999709,7.294697],[-8.642624,7.799059],[-15.913499,9.476478],[-14.820543,7.590287],[-15.423607,7.184109],[-16.064396,8.227975],[-18.197081,7.402703],[-20.871336,-1.370924],[-19.975785,-2.787376],[-17.481881,-1.260854],[-15.881977,-3.998154],[-18.867842,-5.927753],[-21.162275,-2.204465],[-22.140272,-3.658168],[-23.963138,-4.374876],[-25.964566,-0.777162],[-25.304142,-0.425245],[-24.874194,-1.072752],[-23.845317,0.125626],[-21.623229,7.414588],[-21.462580,8.757740],[-21.844921,9.952934],[-18.892647,10.405618],[-22.423697,11.674276],[-23.080578,12.226276],[-23.073786,12.994212],[-22.562245,13.567009],[-21.704877,13.533594],[-16.433875,11.704182],[-11.079637,10.291575],[-5.626698,9.348567],[-0.059593,8.927953],[5.637143,9.082528],[11.478977,9.865088],[17.481374,11.328426],[23.659799,13.525339],[24.461692,13.573799],[25.040524,13.016719],[25.022800,12.213560],[24.419957,11.682558],[21.452181,10.542058],[23.293928,9.786032],[22.966818,9.085299],[22.265569,9.412412],[21.829646,8.703697],[21.845437,7.975806],[24.808564,-1.076871],[25.964566,-1.774503],[24.229272,-4.978444],[21.024300,-3.577493],[21.634082,-2.152775],[18.616179,7.067335],[18.337993,8.375952],[18.408438,9.533334],[11.323600,7.826462],[11.656911,7.695721],[14.500667,6.998088],[16.159996,-4.596036],[16.734120,-6.117390],[16.569790,-6.212476],[15.792663,-5.887115],[15.147655,-5.239926]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[10.428046,-5.630097],[12.782425,-3.404392],[11.387677,6.338683],[8.025608,4.431823],[9.395033,-5.136585]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-2.953051,4.666434],[-2.670480,5.987574],[-2.116925,7.045618],[-5.698103,7.368595]]);
    }
  }
}
